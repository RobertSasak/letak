!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Letak=t()}(this,function(){function e(e,t){!function(o,n){function i(e,t){var o=e*n.PI/180;return(1-n.log(n.tan(o)+1/n.cos(o))/n.PI)/2*n.pow(2,t)}function r(e,t){return(e+180)/360*n.pow(2,t)}function l(e,t,o,i){if(i%2===1)return n.floor(e(t,o))-(i-1)/2;var r=n.floor(e(t,o+1));return(r-i>>1)+r%2}var a,p,f,s,d,c=t.lat||0,u=t.lng||0,y=t.zoom||5,h=t.width||3,m=t.height||3,g=t.layers||[],v=t.offset||[0,0],x=t.pin,w=l(r,u,y,h),b=l(i,c,y,m);e="string"==typeof e?o.getElementById(e):e,e.style.maxWidth=256*h+"px",e.style.fontSize=0,e.style.position="relative";for(f in g)if(g.hasOwnProperty(f)){var d=g[f],I=o.createElement("div");for(I.style.opacity=d.opacity||1,f>0&&(I.style.position="absolute",I.style.top=0,I.style.left=0),p=0;m>p;p++)for(a=0;h>a;a++)s=new Image,s.style.width=100/h+"%",s.src=d.urlTemplate.replace("{x}",w+a+v[0]).replace("{y}",b+p+v[1]).replace("{z}",y),I.appendChild(s);e.appendChild(I)}if(x){var z=o.createElement("div"),C=r(u,y),E=i(c,y);z.className="pin";var P=z.style;P.position="absolute",P.top=100/m*(n.floor(E)-b-v[1]+E%1)+"%",P.left=100/h*(n.floor(C)-w-v[0]+C%1)+"%",P.width="10px",P.height="10px",P.margin="-10px",P.borderRadius="50%",P.background="#000",e.appendChild(z)}}(document,Math)}return e});