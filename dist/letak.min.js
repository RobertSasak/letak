!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Letak=t()}(this,function(){function e(e,t){!function(o,n){function i(e,t){var o=e*n.PI/180;return(1-n.log(n.tan(o)+1/n.cos(o))/n.PI)/2*n.pow(2,t)}function r(e,t){return(e+180)/360*n.pow(2,t)}function a(e,t,o,i){if(i%2===1)return n.floor(e(t,o))-(i-1)/2;var r=n.floor(e(t,o+1));return(r-i>>1)+r%2}var l,p,f,s,d,c=t.lat||0,u=t.lng||0,y=t.zoom||5,h=t.width||3,m=t.height||3,g=t.layers||[],v=t.offset||[0,0],x=t.pin,w=t.pinLat||c,b=t.pinLng||u,I=a(r,u,y,h),z=a(i,c,y,m);e="string"==typeof e?o.getElementById(e):e,e.style.maxWidth=256*h+"px",e.style.fontSize=0,e.style.position="relative";for(f in g)if(g.hasOwnProperty(f)){var d=g[f],C=o.createElement("div");for(C.style.opacity=d.opacity||1,f>0&&(C.style.position="absolute",C.style.top=0,C.style.left=0),p=0;m>p;p++)for(l=0;h>l;l++)s=new Image,s.style.width=100/h+"%",s.src=d.urlTemplate.replace("{x}",I+l+v[0]).replace("{y}",z+p+v[1]).replace("{z}",y),C.appendChild(s);e.appendChild(C)}if(x){var E=o.createElement("div"),L=r(b,y),P=i(w,y);E.className="pin";var k=E.style;k.position="absolute",k.top=100/m*(n.floor(P)-z-v[1]+P%1)+"%",k.left=100/h*(n.floor(L)-I-v[0]+L%1)+"%",k.width="10px",k.height="10px",k.margin="-10px",k.borderRadius="50%",k.background="#000",e.appendChild(E)}}(document,Math)}return e});